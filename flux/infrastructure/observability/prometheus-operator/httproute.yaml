apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
    name: grafana
    namespace: observability
spec:
    parentRefs:
        - name: internal-gateway
          namespace: kube-system
    hostnames:
        - "grafana.axiom.lucasfehres.nl"
    rules:
        - matches:
              - path:
                    type: PathPrefix
                    value: /
          backendRefs:
              - name: prometheus-grafana
                port: 80
---
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
    name: alertmanager
    namespace: observability
spec:
    parentRefs:
        - name: internal-gateway
          namespace: kube-system
    hostnames:
        - "alertmanager.internal.axiom.lucasfehres.nl"
    rules:
        - matches:
              - path:
                    type: PathPrefix
                    value: /
          backendRefs:
              - name: prometheus-kube-prometheus-alertmanager
                port: 9093
